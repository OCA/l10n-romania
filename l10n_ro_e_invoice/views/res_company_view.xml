<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="view_company_form" model="ir.ui.view">
        <field name="model">res.company</field>
        <field name="inherit_id" ref="base.view_company_form" />
        <field name="arch" type="xml">
            <notebook position="inside">
                <page string="ANAF e-invoice/transfer">
                    <group>
                        <separator string="This should be on anaf website" />
                        <button
                            class="btn btn-primary"
                            string="Get Token From Anaf Website (with usb token inserted)"
                            name="get_token_from_anaf_website"
                            attrs="{'invisible':[('l10n_ro_edi_access_token','!=','')]}"
                            type="object"
                            help="At this step you need a digital certified signature and a browser that recognise it"
                        />
                        <field
                            name="l10n_ro_edi_client_id"
                            attrs="{'readonly':[('l10n_ro_edi_access_token','not in',['',False])]}"
                        />
                        <field name="anaf_callback_url" />
                        <field
                            name="l10n_ro_edi_client_secret"
                            attrs="{'readonly':[('l10n_ro_edi_access_token','not in',['',False])]}"
                        />

                        <separator
                            string="This are obtain with data from upper fields"
                        />
                        <button
                            class="btn btn-primary"
                            string="Test anaf api"
                            name="test_anaf_api"
                            type="object"
                            help="https://api.anaf.ro/TestOauth/jaxrs/hello"
                            attrs="{'invisible':['|', ('l10n_ro_edi_access_token','=',''), ('l10n_ro_edi_access_token','=',False)]}"
                        />
                        <field name="l10n_ro_edi_code" readonly="1" />
                        <field name="l10n_ro_edi_access_token" readonly="1" />
                        <field name="l10n_ro_edi_refresh_token" readonly="1" />

                        <field name="client_token_valability" />
                        <field name="anaf_request_datetime" />
                        <button
                            class="btn btn-primary"
                            string="Revoke Access Token"
                            name="revoke_access_token"
                            type="object"
                            attrs="{'invisible':['|', ('l10n_ro_edi_access_token','=',''), ('l10n_ro_edi_access_token','=',False)]}"
                        />

                    </group>
                        <separator
                        string="This are obtain with data from upper fields"
                    />
                        <field name="other_responses" string="Anaf Responses" />

                </page>
            </notebook>
            <sheet position="after">
                <div class="oe_chatter">
                    <field name="message_follower_ids" />
                    <field name="message_ids" />
                </div>
            </sheet>
        </field>
    </record>
</odoo>
